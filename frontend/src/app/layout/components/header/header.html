<mat-toolbar>
    <div class="header-inner">
        <div class="header-left">
            <button mat-icon-button (click)="menuToggle.emit()" class="nav-mobile" aria-label="Menu">
                <mat-icon>menu</mat-icon>
            </button>
            <span class="heading-lg ml-1" routerLink="/flights">Flight Booking</span>
        </div>

        <div class="header-right">
            <nav class="nav-desktop">
                <a mat-button routerLink="/flights">Flights</a>
            </nav>

            <!-- NOT LOGGED IN -->
            @if (!isLoggedIn) {
            <button mat-button class="auth-cta" (click)="handleLogin()">
                Login
            </button>
            }

            <!-- LOGGED IN -->
            @if (isLoggedIn) {
            <button mat-icon-button [matMenuTriggerFor]="userMenu" aria-label="User menu">
                <mat-icon>account_circle</mat-icon>
            </button>

            <mat-menu #userMenu="matMenu">
                <button mat-menu-item routerLink="/profile">
                    <mat-icon>person</mat-icon>
                    <span>Profile</span>
                </button>

                <button mat-menu-item routerLink="/bookings">
                    <mat-icon>flight</mat-icon>
                    <span>My Bookings</span>
                </button>

                <button mat-menu-item (click)="handleLogout()">
                    <mat-icon>logout</mat-icon>
                    <span>Logout</span>
                </button>
            </mat-menu>
            }
        </div>
    </div>
</mat-toolbar>